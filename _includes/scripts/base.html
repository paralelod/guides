<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyloadxt/1.1.0/jquery.lazyloadxt.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js" type="text/javascript" async></script>
 <script>
    $(window).lazyLoadXT();
    // fix for isotope filtering  more: https://isotope.metafizzy.co/events.html#layoutcomplete
    $.lazyLoadXT.updateEvent+=' layoutComplete';
    $.lazyLoadXT.updateEvent+=' afterChange';
    $.lazyLoadXT.onload.addClass = 'img-loaded';

    // jQuery for page scrolling feature - requires jQuery Easing plugin
    $(function() {
        $('a.page-scroll').bind('click', function(event) {
            var $anchor = $(this);
            $('html, body').stop().animate({
                scrollTop: $($anchor.attr('href')).offset().top-0
            }, 1000, 'easeInOutExpo');
            event.preventDefault();
        });
    });
    jQuery(document).ready(function($){
        var mainHeader = $('.nav'),
            //secondaryNavigation = $('.cd-secondary-nav'),
            //this applies only if secondary nav is below intro section
            belowNavHeroContent = $('.sub-nav-hero'),
            headerHeight = mainHeader.height();
        
        //set scrolling variables
        var scrolling = false,
            previousTop = 0,
            currentTop = 0,
            scrollDelta = 10,
            scrollOffset = 150;
    
        $(window).on('scroll', function(){
            if( !scrolling ) {
                scrolling = true;
                (!window.requestAnimationFrame)
                    ? setTimeout(autoHideHeader, 250)
                    : requestAnimationFrame(autoHideHeader);
            }
        });
    
        $(window).on('resize', function(){
            headerHeight = mainHeader.height();
        });
    
        function autoHideHeader() {
            var currentTop = $(window).scrollTop();
    
            ( belowNavHeroContent.length > 0 ) 
                ? checkStickyNavigation(currentTop) // secondary navigation below intro
                : checkSimpleNavigation(currentTop);
    
               previousTop = currentTop;
            scrolling = false;
        }
    
        function checkSimpleNavigation(currentTop) {
            //there's no secondary nav or secondary nav is below primary nav
            if (previousTop - currentTop > scrollDelta) {
                //if scrolling up...
                mainHeader.removeClass('is-hidden');
            } else if( currentTop - previousTop > scrollDelta && currentTop > scrollOffset) {
                //if scrolling down...
                mainHeader.addClass('is-hidden');
            }
        }
    
        
    });
</script>